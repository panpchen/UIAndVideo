{"version":3,"sources":["assets/Script/UI/ResultUI.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,iDAAgD;AAChD,gCAA2B;AAC3B,0CAAyC;AACzC,0CAAiD;AACjD,mCAA8B;AAExB,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAAsC,4BAAM;IAA5C;QAAA,qEAgDC;QA9CC,eAAS,GAAY,IAAI,CAAC;QAE1B,kBAAY,GAAgB,IAAI,CAAC;QAEjC,cAAQ,GAAY,IAAI,CAAC;QAEjB,eAAS,GAAc,EAAE,CAAC;;IAwCpC,CAAC;IAtCC,uBAAI,GAAJ,UAAK,IAAI;QACP,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YACnD,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC;YAC5B,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAC7B;QAED,IAAM,cAAc,GAAG,cAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC;QAC3D,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,oEAA8C,cAAc,sDAA0B,CAAC;QAClH,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;QAED,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,CAAC;QACzB,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC;aACrB,KAAK,CAAC,CAAC,CAAC;aACR,aAAa,CACZ,EAAE,CAAC,KAAK,EAAE;aACP,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,CAAC,EAAE,CAAC;aACtB,EAAE,CAAC,GAAG,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CACzB,CAAC,KAAK,EAAE,CAAC;QAEZ,iBAAO,CAAC,uBAAuB,CAAC,qBAAS,CAAC,oBAAoB,CAAC,CAAC;IAClE,CAAC;IAED,4BAAS,GAAT;QACE,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAM,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC3C,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;YACnC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC1B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;SACpB;IACH,CAAC;IAED,gCAAa,GAAb;QACE,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,cAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QACtB,qBAAS,CAAC,QAAQ,CAAC,MAAM,CAAC,kBAAM,CAAC,MAAM,CAAC,CAAC;IAC3C,CAAC;IA7CD;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;+CACQ;IAE1B;QADC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC;kDACW;IAEjC;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;8CACO;IANN,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAgD5B;IAAD,eAAC;CAhDD,AAgDC,CAhDqC,gBAAM,GAgD3C;kBAhDoB,QAAQ","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport { Constants } from \"../Config/Constants\";\nimport Game from \"../Game\";\nimport { SendMsg } from \"../Net/SendMsg\";\nimport { UIManager, UIType } from \"../UIManager\";\nimport BaseUI from \"./BaseUI\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class ResultUI extends BaseUI {\n  @property(cc.Node)\n  titleNode: cc.Node = null;\n  @property(cc.RichText)\n  starNumLabel: cc.RichText = null;\n  @property(cc.Node)\n  starNode: cc.Node = null;\n\n  private _starList: cc.Node[] = [];\n\n  init(data) {\n    for (let i = this._starList.length - 1; i >= 0; i--) {\n      this._starList[i].destroy();\n      this._starList.splice(i, 1);\n    }\n\n    const starListLength = Game.instance.level.starList.length;\n    this.starNumLabel.string = `<color=#333333>你获得了<color=#DA6700><size=50>${starListLength}</size></c>颗星的奖励</color>`;\n    for (let i = 0; i < starListLength; i++) {\n      this._showStar();\n    }\n\n    this.titleNode.angle = 0;\n    cc.tween(this.titleNode)\n      .delay(1)\n      .repeatForever(\n        cc.tween()\n          .to(1.5, { angle: -5 })\n          .to(1.5, { angle: 5 })\n      ).start();\n\n    SendMsg.reqSaveAssessStatistics(Constants.AssessStatisticsJson);\n  }\n\n  _showStar() {\n    if (this.starNode) {\n      const star = cc.instantiate(this.starNode);\n      star.parent = this.starNode.parent;\n      this._starList.push(star);\n      star.active = true;\n    }\n  }\n\n  clickBackGame() {\n    this.hide();\n    Game.instance.reset();\n    UIManager.instance.showUI(UIType.MenuUI);\n  }\n}"]}